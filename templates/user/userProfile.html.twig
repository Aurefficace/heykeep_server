{% extends 'base.html.twig' %}
	{% block stylesheets %}
		<link href="{{ asset('heykeep/css/heykeep.css') }}" rel="stylesheet" type="text/css">
		<link href="{{ asset('heykeep/css/dashboard.css') }}" rel="stylesheet" type="text/css">
		<link href="{{ asset('heykeep/css/login.css') }}" rel="stylesheet" type="text/css">
	{% endblock %}
	{% block title %}Dashboard{% endblock %}
	{% block body %}
		{% if app.user %}
			<div class="row mb-150">
				<div class="container mt-5 rounded-pill bg-blue p-3 mb-5  text-center ">
					<div class="row">
						<div class="col m-3">
							<h1 class="white-text m-0">bienvenue sur ton profil : <br> {{app.user.username}}</h1>
						</div>
					</div>
				</div>
				<div class="container mt-3">
					<div class="row">
						<div class="col col-example bg-beige  p-3 m-2 card-dash d-flex justify-content-center flex-column">
							<h3 class="blue_text mx-3 my-3 text-center">Modifier mes infos:</h3>
							<button id="buttonChangePassword" class="btn bg-red px-3 mx-5 rounded-pill text-center font-weight-bold white-text">Change ton mot de
								passe</button>
							<form id="formResetPassword" name="myForm" class="hidden d-flex justify-content-center flex-column" method="post"
								  action="{{ path('app_user_reset_password') }}">
								<div class="wrap-input100 validate-input" data-validate="Password is required">
									<label for="password">Nouveau mot de passe *</label></br>
									<input type="password" name="password" id="inputPassword" class="input100" required="required">
									<span class="symbol-input100-reset"><i class="fa fa-lock" aria-hidden="true"></i></span>
								</div>
								<div class="wrap-input100 validate-input" data-validate="Password is required">
									<label for="passwordConfirmation">Confirmation Nouveau Mot de passe *</label></br>
									<input type="password" name="passwordConfirmation" id="inputPasswordConfirmation" class="input100"
										   required="required">
									<span class="symbol-input100-reset"><i class="fa fa-lock" aria-hidden="true"></i></span>
									<div id="divcomp"></div>
								</div>
								<div class="container-login100-form-btn">
									<button id="buttonResetPassword" class="login100-form-btn btn bg-red px-3 mx-5 rounded-pill text-center font-weight-bold white-text"
											type="submit">
										Réinitialiser Mot de Passe
									</button>
								</div>
							</form>
						</div>
						<div class="col col-example bg-beige p-3 m-2 card-dash d-flex justify-content-center flex-column">
							<h3 class="blue_text mx-3 my-3 text-center">Change ton avatar:</h3>
							<div class="col-6 mx-auto">
								<img src="{{ asset('user/profile/'~ app.user.id~ '/' ~ app.user.avatar) }}" class="rounded-circle z-depth-0" alt="avatar image" >
							</div>

							<button id="buttonChangeAvatar" class="btn bg-red px-3 mx-5 rounded-pill text-center font-weight-bold white-text">Change ton avatar</button>
							<form id="formChangeAvatar" class="login100-form hidden d-flex justify-content-center flex-column" method="post"
								  action="{{ path('app_User_reset_avatar') }}">
								<div class="wrap-input100 validate-input" data-validate="Password is required">
								</div>
								<label for="avatar">Changer mon avatar:</label>
								<input type="file" id="avatar" onchange="myFunction" name="avatar" accept="image/png, image/jpeg">
							</form>
						</div>
					</div>
				</div>
				<div class="container mt-3">
					<div class="row">
						<div class="col col-example bg-beige p-3 m-2 card-dash">
							<h3 class="blue_text mx-3 my-3 text-center">Mes catégories :</h3>
						</div>
						<div class="col col-example bg-beige p-3 m-2 card-dash">
							<h3 class="blue_text mx-3 my-3 text-center">Gérer mes espaces :</h3>
							{% for spaceOwned in spacesOwned %}
								{% include 'space/space_short_display.twig' with {"space" : spaceOwned} %}
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
		{% endif %}

	{% endblock %}
	{% block javascripts %}
		<script src="{{ asset('heykeep/js/editProfil.js') }}"></script>
	{% endblock %}
