{% block stylesheets %} <link href="{{ asset('heykeep/css/heykeep.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ asset('heykeep/css/login.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ asset('heykeep/css/dashboard.css') }}" rel="stylesheet" type="text/css">
{% endblock %}
<table class="table bg-beige card-dash">
    <thead>
    <tr>
        <th>Admin</th>
        <th>Nom</th>
        <th>Description</th>
        <th>Date de cr√©ation</th>
        <th>Actif</th>
        <th>Image</th>
        <th>Membres</th>
        <th>actions</th>
    </tr>
    </thead>
    <tbody>
    {% for space in foo %}
        <tr>
            <td>{{ space.idOwner }}</td>
            <td>{{ space.name }}</td>
            <td>{{ space.description }}</td>
            <td>{{ space.createdDate ? space.createdDate|date('d-m-Y') : '' }}</td>
            <td>{{ space.actif ? 'Oui' : 'Non' }}</td>
            <td>
                {% if space.image == '' %}
                    <img src="{{ asset('space/default.jpg') }}" class="rounded-circle z-depth-0" alt="espace image"
                         style="max-height: 120px;max-width: 120px;">
                {% else %}
                    <img src="{{ asset('space/'~ space.id~ '/' ~ space.image) }}" class="rounded-circle z-depth-0"
                         alt="espace image" style="max-height: 120px;max-width: 120px;">
                {% endif %}
            </td>
            <td>
                <p style="font-weight: bold">{{ space.idMember|length }} mbrs :</p>
                {% for member in space.idMember %}
                    {{ member.name }} <br>
                {% endfor %}
            </td>
            <td>
                <a href="{{ path('space_show', {'id': space.id}) }}">
                    <button type="button" class="btn rounded-pill bg-blue px-3 text-white font-weight-bold"><i class="far fa-eye" aria-hidden="true"></i>
                        Afficher
                    </button>
                </a>
                {% if app.user.name == space.idOwner %}
                    <button type="button" class="btn rounded-pill bg-red px-3 text-white font-weight-bold"
                            onclick="callAjaxMasterDetail('{{ path('space_edit', {'id': space.id}) }}','#master-detail','#listmaster','#back-to-list-space'); ">
                        <i class="fas fa-plus" aria-hidden="true"></i> Editer
                    </button>
                {% endif %}
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="7">Vous n'avez encore aucun espace.</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
